<assembly>
<id>plugin</id>
<baseDirectory>emr310</baseDirectory>
<formats>
<format>zip</format>
</formats>
<fileSets>
<fileSet>
<directory>${basedir}/src/main/resources</directory>
<outputDirectory>/</outputDirectory>
</fileSet>
</fileSets>
<dependencySets>
<dependencySet>
<outputDirectory>/lib</outputDirectory>
<useTransitiveDependencies>true</useTransitiveDependencies>
<useTransitiveFiltering>false</useTransitiveFiltering>
<includes>
<include>pentaho:hadoop2-windows-patch</include>
<include>org.apache.hive:hive-exec</include>
<include>org.apache.hive:hive-jdbc</include>
<include>org.apache.hive:hive-metastore</include>
<include>org.apache.hive:hive-service</include>
<include>org.apache.thrift:libfb303</include>
<include>org.apache.thrift:libthrift</include>
<include>org.apache.oozie:oozie-client</include>
<include>org.apache.oozie:oozie-core</include>
<include>pentaho:pentaho-hdfs-vfs</include>
<include>org.apache.pig:pig</include>
<include>org.apache.sqoop:sqoop</include>
</includes>
<excludes>
<exclude>*:tests:*</exclude>
</excludes>
</dependencySet>
<dependencySet>
<outputDirectory>/lib/client</outputDirectory>
<useTransitiveDependencies>true</useTransitiveDependencies>
<useTransitiveFiltering>false</useTransitiveFiltering>
<includes>
<include>dk.brics.automaton:automaton</include>
<include>com.amazonaws:aws-java-sdk-core</include>
<include>com.amazonaws:aws-java-sdk-dynamodb</include>
<include>com.amazonaws:aws-java-sdk-emr</include>
<include>com.amazonaws:aws-java-sdk-s3</include>
<include>commons-configuration:commons-configuration</include>
<include>org.apache.commons:commons-exec</include>
<include>commons-lang:commons-lang</include>
<include>com.google.code.gson:gson</include>
<include>org.apache.hadoop:hadoop-auth</include>
<include>org.apache.hadoop:hadoop-common</include>
<include>org.apache.hadoop:hadoop-mapreduce-client-jobclient</include>
<include>org.apache.httpcomponents:httpclient</include>
<include>org.apache.httpcomponents:httpcore</include>
<include>com.fasterxml.jackson.core:jackson-annotations</include>
<include>com.fasterxml.jackson.core:jackson-core</include>
<include>com.fasterxml.jackson.core:jackson-databind</include>
<include>joda-time:joda-time</include>
<include>org.jscience:jscience</include>
<include>log4j:log4j</include>
</includes>
<excludes>
<exclude>*:tests:*</exclude>
</excludes>
</dependencySet>
<dependencySet>
<outputDirectory>/lib/client</outputDirectory>
<includes>
<!-- Parent MVN Dependencies -->
<include>org.apache.hadoop:hadoop-mapreduce-client-app</include>
<include>org.apache.hadoop:hadoop-mapreduce-client-common</include>
<include>org.apache.hadoop:hadoop-mapreduce-client-core</include>
<include>org.apache.hadoop:hadoop-mapreduce-client-hs</include>
<include>org.apache.hadoop:hadoop-mapreduce-client-shuffle</include>

<!-- Transitive MVN Dependencies -->
<include>javax.activation:activation</include>
<include>aopalliance:aopalliance</include>
<include>org.apache.avro:avro</include>
<include>commons-cli:commons-cli</include>
<include>org.apache.commons:commons-compress</include>
<include>commons-daemon:commons-daemon</include>
<include>commons-el:commons-el</include>
<include>commons-httpclient:commons-httpclient</include>
<include>com.google.inject:guice</include>
<include>com.google.inject.extensions:guice-servlet</include>
<include>org.apache.hadoop:hadoop-annotations</include>
<include>org.apache.hadoop:hadoop-hdfs</include>
<include>org.apache.hadoop:hadoop-yarn-api</include>
<include>org.apache.hadoop:hadoop-yarn-client</include>
<include>org.apache.hadoop:hadoop-yarn-common</include>
<include>org.apache.hadoop:hadoop-yarn-server-common</include>
<include>org.apache.hadoop:hadoop-yarn-server-nodemanager</include>
<include>org.apache.hadoop:hadoop-yarn-server-web-proxy</include>
<include>org.codehaus.jackson:jackson-core-asl</include>
<include>org.codehaus.jackson:jackson-mapper-asl</include>
<include>tomcat:jasper-runtime</include>
<include>javax.inject:javax.inject</include>
<include>javax.xml.bind:jaxb-api</include>
<include>com.sun.xml.bind:jaxb-impl</include>
<include>com.sun.jersey:jersey-client</include>
<include>com.sun.jersey:jersey-core</include>
<include>com.sun.jersey.contribs:jersey-guice</include>
<include>com.sun.jersey:jersey-json</include>
<include>com.sun.jersey:jersey-server</include>
<include>org.codehaus.jettison:jettison</include>
<include>org.mortbay.jetty:jetty</include>
<include>org.mortbay.jetty:jetty-util</include>
<include>javax.servlet.jsp:jsp-api</include>
<include>io.netty:netty</include>
<include>com.thoughtworks.paranamer:paranamer</include>
<include>com.google.protobuf:protobuf-java</include>
<include>javax.servlet:servlet-api</include>
<include>org.slf4j:slf4j-api</include>
<include>org.slf4j:slf4j-log4j12</include>
<include>org.xerial.snappy:snappy-java</include>
<include>xmlenc:xmlenc</include>
<include>org.tukaani:xz</include>

<!-- Transitive ANT Dependencies -->
<include>asm:asm</include>
<include>org.sonatype.sisu.inject:cglib</include>
<include>commons-codec:commons-codec</include>
<include>commons-io:commons-io</include>
<include>commons-logging:commons-logging</include>
<include>com.google.guava:guava</include>
<include>org.codehaus.jackson:jackson-jaxrs</include>
<include>org.codehaus.jackson:jackson-xc</include>
<include>com.google.code.findbugs:jsr305</include>
</includes>
<excludes>
<exclude>*:tests:*</exclude>
</excludes>
</dependencySet>
<dependencySet>
<outputDirectory>/lib/pmr</outputDirectory>
<useTransitiveDependencies>true</useTransitiveDependencies>
<useTransitiveFiltering>false</useTransitiveFiltering>
<includes>
<include>org.apache.hbase:hbase</include>
<include>org.apache.zookeeper:zookeeper</include>
</includes>
<excludes>
<exclude>*:tests:*</exclude>
</excludes>
</dependencySet>
</dependencySets>
</assembly>

